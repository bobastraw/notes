<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="./javascript.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <!-- <script type="text/javascript" src="jscript/graph.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js" integrity="sha512-NxocnqsXP3zm0Xb42zqVMvjQIktKEpTIbCXXyhBPxqGZHqhcOXHs4pXI/GoZ8lE+2NJONRifuBpi9DxC58L0Lw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
    
</head>


<body>
    <canvas id="myChart" style="width:windowWidth;max-width:windowHeight"></canvas>

    <h1 id="testelm">This is test</h1> 
    <p>date: <span id="date"></span></p>
    <p>tavg: <span id="tavg"></span></p>

</body>
</html>



<script>
var xyValues = [
  {x:0, y:25.5},
  {x:1, y:18.7},
  {x:2, y:38.1},
  {x:3, y:52.3},
  {x:4, y:63.3},
  {x:5, y:69.8},
  {x:6, y:75.2},
  {x:7, y:74.1},
  {x:8, y:71.2},
  {x:9, y:56.5},
  {x:10, y:47.3},
  {x:11, y:46.4},
  {x:12, y:27.3},
  {x:13, y:32.5},
  {x:14, y:52.9},
  {x:15, y:49.6},
  {x:16, y:62.1},
  {x:17, y:74.1},
  {x:18, y:77.2},
  {x:19, y:77.7},
  {x:20, y:72},
  {x:21, y:59.5}
];


new Chart("myChart", {
  type: "scatter",
  data: {
    datasets: [{
      pointRadius: 9,
      pointBackgroundColor: "rgb(0,0,255)",
     data: xyValues
    }]
  },
  options: {
    legend: {display: false},
    scales: {
      xAxes: [{ticks: {min: 0, max:85}}],
      yAxes: [{ticks: {min: 20, max:80}}],
    }
  }
});
// const settings = {
// 	"async": true,
// 	"crossDomain": true,
// 	"url": "https://meteostat.p.rapidapi.com/stations/monthly?station=72534&start=2015-01-01&end=2021-12-31&units=imperial",
// 	"method": "GET",
// 	"headers": {
// 		"X-RapidAPI-Host": "meteostat.p.rapidapi.com",
// 		"X-RapidAPI-Key": "a68ed55e85msh4309fb562707623p146e3djsn38cf8360e9ed"
// 	}
// };


// $.ajax(settings).done(function (response) {
//     console.log(response);
       
// });
 console.log(window);
apicallValue();
    

function apicallValue(){
        APIkey = 'a68ed55e85msh4309fb562707623p146e3djsn38cf8360e9ed';
        // lat = '37.566'; 
        // lon = '-126.978';
        // units = 'imperial'
    
        $.ajax({
            type: 'GET',
            dataType: 'json',
            url: `https://meteostat.p.rapidapi.com/stations/monthly?station=72534&start=2015-01-01&end=2021-12-31&units=imperial`,
            async: false,
            crossDomain: true,


            complete: function (response) {
                if (response.readyState === 4 && response.status === 200) {
                    console.log(response);
                    date = response.responseJSON.data[0].date;
                    tavg = response.responseJSON.data[0].tavg;
                    console.log(date);
                    console.log(tavg);
                    document.getElementById('date').textContent = date;
                    document.getElementById('tavg').textContent = tavg;

                }
                
            }
        })
    } 
</script>

 <!-- console.log(window);
// apicallValue();
    

// function apicallValue(){
//         APIkey = '95333c57aa9a8394dcc06c749083721c';
//         lat = '37.566'; 
//         lon = '-126.978';
//         units = 'imperial'
    
//         $.ajax({
//             type: 'GET',
//             dataType: 'json',
//             url: `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${APIkey}&units=${units}`,
//             async: false,
//             crossDomain: true,


//             complete: function (response) {
//                 if (response.readyState === 4 && response.status === 200) {
//                     console.log(response);
//                     temp = response.responseJSON.main.temp;
//                     desc = response.responseJSON.weather[0].description;
//                     console.log(desc);
//                  console.log(temp);
//                 }
                
//             }
//         })
//     } -->






